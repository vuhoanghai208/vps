repeat task.wait() until game:IsLoaded()

local Players              = game:GetService("Players")
local ReplicatedStorage    = game:GetService("ReplicatedStorage")
local VirtualInputManager  = game:GetService("VirtualInputManager")

local LP         = Players.LocalPlayer
local PlayerGui  = LP:WaitForChild("PlayerGui")

local function safeFireChangeLastDevice()
    local ok, rem = pcall(function()
        return ReplicatedStorage
            :WaitForChild("Remotes", 2)
            :WaitForChild("Extras", 2)
            :WaitForChild("ChangeLastDevice", 2)
    end)
    if ok and rem then
        rem:FireServer("Tablet")
    end
end

local function setDeviceAttribute()
    pcall(function() PlayerGui:SetAttribute("Device", "Tablet") end)
end

local function clickGuiButton(btn: GuiButton)
    local ok = pcall(function() btn:Activate() end)
    if not ok then
        local center = btn.AbsolutePosition + (btn.AbsoluteSize / 2)
        VirtualInputManager:SendMouseButtonEvent(center.X, center.Y, 0, true, btn, 0)
        VirtualInputManager:SendMouseButtonEvent(center.X, center.Y, 0, false, btn, 0)
    end
end

if PlayerGui:GetAttribute("Device") == "Tablet" then
    safeFireChangeLastDevice()
    return
end

local connected; connected = PlayerGui.ChildAdded:Connect(function(child)
    if child.Name ~= "DeviceSelect" then return end
    task.defer(function()
        local ok, tabletBtn = pcall(function()
            local container = child:WaitForChild("Container", 5)
            local tablet    = container and container:WaitForChild("Tablet", 5)
            return tablet and tablet:WaitForChild("Button", 5)
        end)
        if ok and tabletBtn and tabletBtn:IsA("GuiButton") then
            safeFireChangeLastDevice()
            setDeviceAttribute()
            clickGuiButton(tabletBtn)
            if connected then connected:Disconnect() end
        end
    end)
end)

task.defer(function()
    local existing = PlayerGui:FindFirstChild("DeviceSelect")
    if existing then
        local ok, tabletBtn = pcall(function()
            local container = existing:WaitForChild("Container", 5)
            local tablet    = container and container:WaitForChild("Tablet", 5)
            return tablet and tablet:WaitForChild("Button", 5)
        end)
        if ok and tabletBtn and tabletBtn:IsA("GuiButton") then
            safeFireChangeLastDevice()
            setDeviceAttribute()
            clickGuiButton(tabletBtn)
            if connected then connected:Disconnect() end
        end
    end
end)

task.spawn(function()
    for _ = 1, 50 do
        task.wait(0.2)
        if PlayerGui:GetAttribute("Device") == "Tablet" then return end
        local ds = PlayerGui:FindFirstChild("DeviceSelect")
        if ds then
            local container = ds:FindFirstChild("Container")
            local tablet = container and container:FindFirstChild("Tablet")
            local btn = tablet and tablet:FindFirstChild("Button")
            if btn and btn:IsA("GuiButton") then
                safeFireChangeLastDevice()
                setDeviceAttribute()
                clickGuiButton(btn)
                return
            end
        end
    end
end)
script_key="PWaSPoKzUFhPJPtrYSslFghDmRQXEMRw";
repeat task.wait() until game:IsLoaded()
getgenv().gagConfig = getgenv().gagConfig or {
    Debug         = true,
    AutoFarm      = true,
    OpenCrate     = true,
    PrivateWebhook = "https://discord.com/api/webhooks/1397922298501005433/GEYiKwB5LYJ2zP5k9EZDMrNeE2Hl6tJKSjZsi4q1-prT7PW-49ylG61Orx_dR73DgDaf",
    WEBHOOK_SELECT = {
        Private = {
            ["Striped"] = false, ["Stickers"] = false, ["Dolphins"] = false, ["Skyline"] = false,
            ["Soda"] = false, ["Retro"] = false, ["Lava"] = false, ["Neon"] = false,
            ["Pop Art"] = false, ["Aquarium"] = false, ["Sunrise"] = true, ["Chroma Sunrise"] = true,
        }
    },
}
loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/bb22b88a501c552fcc9c12e27a239b97.lua"))()
